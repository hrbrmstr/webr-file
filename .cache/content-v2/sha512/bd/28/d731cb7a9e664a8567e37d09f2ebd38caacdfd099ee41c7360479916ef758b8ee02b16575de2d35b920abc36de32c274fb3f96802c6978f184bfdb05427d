/**
 * Bundled by jsDelivr using Rollup v2.74.1 and Terser v5.15.1.
 * Original file: /npm/d3-geo@3.1.0/src/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Adder as n,merge as t,range as r}from"/npm/d3-array@3.2.1/+esm";var i=1e-6,e=Math.PI,o=e/2,u=e/4,a=2*e,c=180/e,l=e/180,f=Math.abs,s=Math.atan,p=Math.atan2,h=Math.cos,g=Math.ceil,v=Math.exp,d=Math.hypot,E=Math.log,y=Math.pow,S=Math.sin,m=Math.sign||function(n){return n>0?1:n<0?-1:0},M=Math.sqrt,w=Math.tan;function x(n){return n>1?0:n<-1?e:Math.acos(n)}function _(n){return n>1?o:n<-1?-o:Math.asin(n)}function N(n){return(n=S(n/2))*n}function R(){}function C(n,t){n&&A.hasOwnProperty(n.type)&&A[n.type](n,t)}var P={Feature:function(n,t){C(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)C(r[i].geometry,t)}},A={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){$(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)$(r[i],t,0)},Polygon:function(n,t){q(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)q(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)C(r[i],t)}};function $(n,t,r){var i,e=-1,o=n.length-r;for(t.lineStart();++e<o;)i=n[e],t.point(i[0],i[1],i[2]);t.lineEnd()}function q(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)$(n[r],t,1);t.polygonEnd()}function z(n,t){n&&P.hasOwnProperty(n.type)?P[n.type](n,t):C(n,t)}var j,L,b,G,O,T,k,F,H,I,W,X,Y,B,D,U,Z=new n,J=new n,K={point:R,lineStart:R,lineEnd:R,polygonStart:function(){Z=new n,K.lineStart=Q,K.lineEnd=V},polygonEnd:function(){var n=+Z;J.add(n<0?a+n:n),this.lineStart=this.lineEnd=this.point=R},sphere:function(){J.add(a)}};function Q(){K.point=nn}function V(){tn(j,L)}function nn(n,t){K.point=tn,j=n,L=t,b=n*=l,G=h(t=(t*=l)/2+u),O=S(t)}function tn(n,t){var r=(n*=l)-b,i=r>=0?1:-1,e=i*r,o=h(t=(t*=l)/2+u),a=S(t),c=O*a,f=G*o+c*h(e),s=c*i*S(e);Z.add(p(s,f)),b=n,G=o,O=a}function rn(t){return J=new n,z(t,K),2*J}function en(n){return[p(n[1],n[0]),_(n[2])]}function on(n){var t=n[0],r=n[1],i=h(r);return[i*h(t),i*S(t),S(r)]}function un(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function an(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function cn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ln(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function fn(n){var t=M(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var sn,pn,hn,gn,vn,dn,En,yn,Sn,mn,Mn,wn,xn,_n,Nn,Rn,Cn={point:Pn,lineStart:$n,lineEnd:qn,polygonStart:function(){Cn.point=zn,Cn.lineStart=jn,Cn.lineEnd=Ln,B=new n,K.polygonStart()},polygonEnd:function(){K.polygonEnd(),Cn.point=Pn,Cn.lineStart=$n,Cn.lineEnd=qn,Z<0?(T=-(F=180),k=-(H=90)):B>i?H=90:B<-i&&(k=-90),U[0]=T,U[1]=F},sphere:function(){T=-(F=180),k=-(H=90)}};function Pn(n,t){D.push(U=[T=n,F=n]),t<k&&(k=t),t>H&&(H=t)}function An(n,t){var r=on([n*l,t*l]);if(Y){var i=an(Y,r),e=an([i[1],-i[0],0],i);fn(e),e=en(e);var o,u=n-I,a=u>0?1:-1,s=e[0]*c*a,p=f(u)>180;p^(a*I<s&&s<a*n)?(o=e[1]*c)>H&&(H=o):p^(a*I<(s=(s+360)%360-180)&&s<a*n)?(o=-e[1]*c)<k&&(k=o):(t<k&&(k=t),t>H&&(H=t)),p?n<I?bn(T,n)>bn(T,F)&&(F=n):bn(n,F)>bn(T,F)&&(T=n):F>=T?(n<T&&(T=n),n>F&&(F=n)):n>I?bn(T,n)>bn(T,F)&&(F=n):bn(n,F)>bn(T,F)&&(T=n)}else D.push(U=[T=n,F=n]);t<k&&(k=t),t>H&&(H=t),Y=r,I=n}function $n(){Cn.point=An}function qn(){U[0]=T,U[1]=F,Cn.point=Pn,Y=null}function zn(n,t){if(Y){var r=n-I;B.add(f(r)>180?r+(r>0?360:-360):r)}else W=n,X=t;K.point(n,t),An(n,t)}function jn(){K.lineStart()}function Ln(){zn(W,X),K.lineEnd(),f(B)>i&&(T=-(F=180)),U[0]=T,U[1]=F,Y=null}function bn(n,t){return(t-=n)<0?t+360:t}function Gn(n,t){return n[0]-t[0]}function On(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function Tn(n){var t,r,i,e,o,u,a;if(H=F=-(T=k=1/0),D=[],z(n,Cn),r=D.length){for(D.sort(Gn),t=1,o=[i=D[0]];t<r;++t)On(i,(e=D[t])[0])||On(i,e[1])?(bn(i[0],e[1])>bn(i[0],i[1])&&(i[1]=e[1]),bn(e[0],i[1])>bn(i[0],i[1])&&(i[0]=e[0])):o.push(i=e);for(u=-1/0,t=0,i=o[r=o.length-1];t<=r;i=e,++t)e=o[t],(a=bn(i[1],e[0]))>u&&(u=a,T=e[0],F=i[1])}return D=U=null,T===1/0||k===1/0?[[NaN,NaN],[NaN,NaN]]:[[T,k],[F,H]]}var kn={sphere:R,point:Fn,lineStart:In,lineEnd:Yn,polygonStart:function(){kn.lineStart=Bn,kn.lineEnd=Dn},polygonEnd:function(){kn.lineStart=In,kn.lineEnd=Yn}};function Fn(n,t){n*=l;var r=h(t*=l);Hn(r*h(n),r*S(n),S(t))}function Hn(n,t,r){++sn,hn+=(n-hn)/sn,gn+=(t-gn)/sn,vn+=(r-vn)/sn}function In(){kn.point=Wn}function Wn(n,t){n*=l;var r=h(t*=l);_n=r*h(n),Nn=r*S(n),Rn=S(t),kn.point=Xn,Hn(_n,Nn,Rn)}function Xn(n,t){n*=l;var r=h(t*=l),i=r*h(n),e=r*S(n),o=S(t),u=p(M((u=Nn*o-Rn*e)*u+(u=Rn*i-_n*o)*u+(u=_n*e-Nn*i)*u),_n*i+Nn*e+Rn*o);pn+=u,dn+=u*(_n+(_n=i)),En+=u*(Nn+(Nn=e)),yn+=u*(Rn+(Rn=o)),Hn(_n,Nn,Rn)}function Yn(){kn.point=Fn}function Bn(){kn.point=Un}function Dn(){Zn(wn,xn),kn.point=Fn}function Un(n,t){wn=n,xn=t,n*=l,t*=l,kn.point=Zn;var r=h(t);_n=r*h(n),Nn=r*S(n),Rn=S(t),Hn(_n,Nn,Rn)}function Zn(n,t){n*=l;var r=h(t*=l),i=r*h(n),e=r*S(n),o=S(t),u=Nn*o-Rn*e,a=Rn*i-_n*o,c=_n*e-Nn*i,f=d(u,a,c),s=_(f),p=f&&-s/f;Sn.add(p*u),mn.add(p*a),Mn.add(p*c),pn+=s,dn+=s*(_n+(_n=i)),En+=s*(Nn+(Nn=e)),yn+=s*(Rn+(Rn=o)),Hn(_n,Nn,Rn)}function Jn(t){sn=pn=hn=gn=vn=dn=En=yn=0,Sn=new n,mn=new n,Mn=new n,z(t,kn);var r=+Sn,e=+mn,o=+Mn,u=d(r,e,o);return u<1e-12&&(r=dn,e=En,o=yn,pn<i&&(r=hn,e=gn,o=vn),(u=d(r,e,o))<1e-12)?[NaN,NaN]:[p(e,r)*c,_(o/u)*c]}function Kn(n){return function(){return n}}function Qn(n,t){function r(r,i){return r=n(r,i),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,i){return(r=t.invert(r,i))&&n.invert(r[0],r[1])}),r}function Vn(n,t){return f(n)>e&&(n-=Math.round(n/a)*a),[n,t]}function nt(n,t,r){return(n%=a)?t||r?Qn(rt(n),it(t,r)):rt(n):t||r?it(t,r):Vn}function tt(n){return function(t,r){return f(t+=n)>e&&(t-=Math.round(t/a)*a),[t,r]}}function rt(n){var t=tt(n);return t.invert=tt(-n),t}function it(n,t){var r=h(n),i=S(n),e=h(t),o=S(t);function u(n,t){var u=h(t),a=h(n)*u,c=S(n)*u,l=S(t),f=l*r+a*i;return[p(c*e-f*o,a*r-l*i),_(f*e+c*o)]}return u.invert=function(n,t){var u=h(t),a=h(n)*u,c=S(n)*u,l=S(t),f=l*e-c*o;return[p(c*e+l*o,a*r+f*i),_(f*r-a*i)]},u}function et(n){function t(t){return(t=n(t[0]*l,t[1]*l))[0]*=c,t[1]*=c,t}return n=nt(n[0]*l,n[1]*l,n.length>2?n[2]*l:0),t.invert=function(t){return(t=n.invert(t[0]*l,t[1]*l))[0]*=c,t[1]*=c,t},t}function ot(n,t,r,i,e,o){if(r){var u=h(t),c=S(t),l=i*r;null==e?(e=t+i*a,o=t-l/2):(e=ut(u,e),o=ut(u,o),(i>0?e<o:e>o)&&(e+=i*a));for(var f,s=e;i>0?s>o:s<o;s-=l)f=en([u,-c*h(s),-c*S(s)]),n.point(f[0],f[1])}}function ut(n,t){(t=on(t))[0]-=n,fn(t);var r=x(-t[1]);return((-t[2]<0?-r:r)+a-i)%a}function at(){var n,t,r=Kn([0,0]),i=Kn(90),e=Kn(6),o={point:function(r,i){n.push(r=t(r,i)),r[0]*=c,r[1]*=c}};function u(){var u=r.apply(this,arguments),a=i.apply(this,arguments)*l,c=e.apply(this,arguments)*l;return n=[],t=nt(-u[0]*l,-u[1]*l,0).invert,ot(o,a,c,1),u={type:"Polygon",coordinates:[n]},n=t=null,u}return u.center=function(n){return arguments.length?(r="function"==typeof n?n:Kn([+n[0],+n[1]]),u):r},u.radius=function(n){return arguments.length?(i="function"==typeof n?n:Kn(+n),u):i},u.precision=function(n){return arguments.length?(e="function"==typeof n?n:Kn(+n),u):e},u}function ct(){var n,t=[];return{point:function(t,r,i){n.push([t,r,i])},lineStart:function(){t.push(n=[])},lineEnd:R,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function lt(n,t){return f(n[0]-t[0])<i&&f(n[1]-t[1])<i}function ft(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function st(n,t,r,i,e){var o,u,a=[],c=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,r,i=n[0],u=n[t];if(lt(i,u)){if(!i[2]&&!u[2]){for(e.lineStart(),o=0;o<t;++o)e.point((i=n[o])[0],i[1]);return void e.lineEnd()}u[0]+=2e-6}a.push(r=new ft(i,n,null,!0)),c.push(r.o=new ft(i,null,r,!1)),a.push(r=new ft(u,n,null,!1)),c.push(r.o=new ft(u,null,r,!0))}})),a.length){for(c.sort(t),pt(a),pt(c),o=0,u=c.length;o<u;++o)c[o].e=r=!r;for(var l,f,s=a[0];;){for(var p=s,h=!0;p.v;)if((p=p.n)===s)return;l=p.z,e.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(o=0,u=l.length;o<u;++o)e.point((f=l[o])[0],f[1]);else i(p.x,p.n.x,1,e);p=p.n}else{if(h)for(l=p.p.z,o=l.length-1;o>=0;--o)e.point((f=l[o])[0],f[1]);else i(p.x,p.p.x,-1,e);p=p.p}l=(p=p.o).z,h=!h}while(!p.v);e.lineEnd()}}}function pt(n){if(t=n.length){for(var t,r,i=0,e=n[0];++i<t;)e.n=r=n[i],r.p=e,e=r;e.n=r=n[0],r.p=e}}function ht(n){return f(n[0])<=e?n[0]:m(n[0])*((f(n[0])+e)%a-e)}function gt(t,r){var c=ht(r),l=r[1],f=S(l),s=[S(c),-h(c),0],g=0,v=0,d=new n;1===f?l=o+i:-1===f&&(l=-o-i);for(var E=0,y=t.length;E<y;++E)if(M=(m=t[E]).length)for(var m,M,w=m[M-1],x=ht(w),N=w[1]/2+u,R=S(N),C=h(N),P=0;P<M;++P,x=$,R=z,C=j,w=A){var A=m[P],$=ht(A),q=A[1]/2+u,z=S(q),j=h(q),L=$-x,b=L>=0?1:-1,G=b*L,O=G>e,T=R*z;if(d.add(p(T*b*S(G),C*j+T*h(G))),g+=O?L+b*a:L,O^x>=c^$>=c){var k=an(on(w),on(A));fn(k);var F=an(s,k);fn(F);var H=(O^L>=0?-1:1)*_(F[2]);(l>H||l===H&&(k[0]||k[1]))&&(v+=O^L>=0?1:-1)}}return(g<-i||g<i&&d<-1e-12)^1&v}function vt(n,r,i,e){return function(o){var u,a,c,l=r(o),f=ct(),s=r(f),p=!1,h={point:g,lineStart:d,lineEnd:E,polygonStart:function(){h.point=y,h.lineStart=S,h.lineEnd=m,a=[],u=[]},polygonEnd:function(){h.point=g,h.lineStart=d,h.lineEnd=E,a=t(a);var n=gt(u,e);a.length?(p||(o.polygonStart(),p=!0),st(a,Et,n,i,o)):n&&(p||(o.polygonStart(),p=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),p&&(o.polygonEnd(),p=!1),a=u=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(t,r){n(t,r)&&o.point(t,r)}function v(n,t){l.point(n,t)}function d(){h.point=v,l.lineStart()}function E(){h.point=g,l.lineEnd()}function y(n,t){c.push([n,t]),s.point(n,t)}function S(){s.lineStart(),c=[]}function m(){y(c[0][0],c[0][1]),s.lineEnd();var n,t,r,i,e=s.clean(),l=f.result(),h=l.length;if(c.pop(),u.push(c),c=null,h)if(1&e){if((t=(r=l[0]).length-1)>0){for(p||(o.polygonStart(),p=!0),o.lineStart(),n=0;n<t;++n)o.point((i=r[n])[0],i[1]);o.lineEnd()}}else h>1&&2&e&&l.push(l.pop().concat(l.shift())),a.push(l.filter(dt))}return h}}function dt(n){return n.length>1}function Et(n,t){return((n=n.x)[0]<0?n[1]-o-i:o-n[1])-((t=t.x)[0]<0?t[1]-o-i:o-t[1])}Vn.invert=Vn;var yt=vt((function(){return!0}),(function(n){var t,r=NaN,u=NaN,a=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(c,l){var p=c>0?e:-e,g=f(c-r);f(g-e)<i?(n.point(r,u=(u+l)/2>0?o:-o),n.point(a,u),n.lineEnd(),n.lineStart(),n.point(p,u),n.point(c,u),t=0):a!==p&&g>=e&&(f(r-a)<i&&(r-=a*i),f(c-p)<i&&(c-=p*i),u=function(n,t,r,e){var o,u,a=S(n-r);return f(a)>i?s((S(t)*(u=h(e))*S(r)-S(e)*(o=h(t))*S(n))/(o*u*a)):(t+e)/2}(r,u,c,l),n.point(a,u),n.lineEnd(),n.lineStart(),n.point(p,u),t=0),n.point(r=c,u=l),a=p},lineEnd:function(){n.lineEnd(),r=u=NaN},clean:function(){return 2-t}}}),(function(n,t,r,u){var a;if(null==n)a=r*o,u.point(-e,a),u.point(0,a),u.point(e,a),u.point(e,0),u.point(e,-a),u.point(0,-a),u.point(-e,-a),u.point(-e,0),u.point(-e,a);else if(f(n[0]-t[0])>i){var c=n[0]<t[0]?e:-e;a=r*c/2,u.point(-c,a),u.point(0,a),u.point(c,a)}else u.point(t[0],t[1])}),[-e,-o]);function St(n){var t=h(n),r=6*l,o=t>0,u=f(t)>i;function a(n,r){return h(n)*h(r)>t}function c(n,r,o){var u=[1,0,0],a=an(on(n),on(r)),c=un(a,a),l=a[0],s=c-l*l;if(!s)return!o&&n;var p=t*c/s,h=-t*l/s,g=an(u,a),v=ln(u,p);cn(v,ln(a,h));var d=g,E=un(v,d),y=un(d,d),S=E*E-y*(un(v,v)-1);if(!(S<0)){var m=M(S),w=ln(d,(-E-m)/y);if(cn(w,v),w=en(w),!o)return w;var x,_=n[0],N=r[0],R=n[1],C=r[1];N<_&&(x=_,_=N,N=x);var P=N-_,A=f(P-e)<i;if(!A&&C<R&&(x=R,R=C,C=x),A||P<i?A?R+C>0^w[1]<(f(w[0]-_)<i?R:C):R<=w[1]&&w[1]<=C:P>e^(_<=w[0]&&w[0]<=N)){var $=ln(d,(-E+m)/y);return cn($,v),[w,en($)]}}}function s(t,r){var i=o?n:e-n,u=0;return t<-i?u|=1:t>i&&(u|=2),r<-i?u|=4:r>i&&(u|=8),u}return vt(a,(function(n){var t,r,i,l,f;return{lineStart:function(){l=i=!1,f=1},point:function(p,h){var g,v=[p,h],d=a(p,h),E=o?d?0:s(p,h):d?s(p+(p<0?e:-e),h):0;if(!t&&(l=i=d)&&n.lineStart(),d!==i&&(!(g=c(t,v))||lt(t,g)||lt(v,g))&&(v[2]=1),d!==i)f=0,d?(n.lineStart(),g=c(v,t),n.point(g[0],g[1])):(g=c(t,v),n.point(g[0],g[1],2),n.lineEnd()),t=g;else if(u&&t&&o^d){var y;E&r||!(y=c(v,t,!0))||(f=0,o?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1],3)))}!d||t&&lt(t,v)||n.point(v[0],v[1]),t=v,i=d,r=E},lineEnd:function(){i&&n.lineEnd(),t=null},clean:function(){return f|(l&&i)<<1}}}),(function(t,i,e,o){ot(o,n,r,e,t,i)}),o?[0,-n]:[-e,n-e])}var mt,Mt,wt,xt;function _t(n,r,e,o){function u(t,i){return n<=t&&t<=e&&r<=i&&i<=o}function a(t,i,u,a){var l=0,f=0;if(null==t||(l=c(t,u))!==(f=c(i,u))||s(t,i)<0^u>0)do{a.point(0===l||3===l?n:e,l>1?o:r)}while((l=(l+u+4)%4)!==f);else a.point(i[0],i[1])}function c(t,o){return f(t[0]-n)<i?o>0?0:3:f(t[0]-e)<i?o>0?2:1:f(t[1]-r)<i?o>0?1:0:o>0?3:2}function l(n,t){return s(n.x,t.x)}function s(n,t){var r=c(n,1),i=c(t,1);return r!==i?r-i:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(i){var c,f,s,p,h,g,v,d,E,y,S,m=i,M=ct(),w={point:x,lineStart:function(){w.point=_,f&&f.push(s=[]);y=!0,E=!1,v=d=NaN},lineEnd:function(){c&&(_(p,h),g&&E&&M.rejoin(),c.push(M.result()));w.point=x,E&&m.lineEnd()},polygonStart:function(){m=M,c=[],f=[],S=!0},polygonEnd:function(){var r=function(){for(var t=0,r=0,i=f.length;r<i;++r)for(var e,u,a=f[r],c=1,l=a.length,s=a[0],p=s[0],h=s[1];c<l;++c)e=p,u=h,p=(s=a[c])[0],h=s[1],u<=o?h>o&&(p-e)*(o-u)>(h-u)*(n-e)&&++t:h<=o&&(p-e)*(o-u)<(h-u)*(n-e)&&--t;return t}(),e=S&&r,u=(c=t(c)).length;(e||u)&&(i.polygonStart(),e&&(i.lineStart(),a(null,null,1,i),i.lineEnd()),u&&st(c,l,r,a,i),i.polygonEnd());m=i,c=f=s=null}};function x(n,t){u(n,t)&&m.point(n,t)}function _(t,i){var a=u(t,i);if(f&&s.push([t,i]),y)p=t,h=i,g=a,y=!1,a&&(m.lineStart(),m.point(t,i));else if(a&&E)m.point(t,i);else{var c=[v=Math.max(-1e9,Math.min(1e9,v)),d=Math.max(-1e9,Math.min(1e9,d))],l=[t=Math.max(-1e9,Math.min(1e9,t)),i=Math.max(-1e9,Math.min(1e9,i))];!function(n,t,r,i,e,o){var u,a=n[0],c=n[1],l=0,f=1,s=t[0]-a,p=t[1]-c;if(u=r-a,s||!(u>0)){if(u/=s,s<0){if(u<l)return;u<f&&(f=u)}else if(s>0){if(u>f)return;u>l&&(l=u)}if(u=e-a,s||!(u<0)){if(u/=s,s<0){if(u>f)return;u>l&&(l=u)}else if(s>0){if(u<l)return;u<f&&(f=u)}if(u=i-c,p||!(u>0)){if(u/=p,p<0){if(u<l)return;u<f&&(f=u)}else if(p>0){if(u>f)return;u>l&&(l=u)}if(u=o-c,p||!(u<0)){if(u/=p,p<0){if(u>f)return;u>l&&(l=u)}else if(p>0){if(u<l)return;u<f&&(f=u)}return l>0&&(n[0]=a+l*s,n[1]=c+l*p),f<1&&(t[0]=a+f*s,t[1]=c+f*p),!0}}}}}(c,l,n,r,e,o)?a&&(m.lineStart(),m.point(t,i),S=!1):(E||(m.lineStart(),m.point(c[0],c[1])),m.point(l[0],l[1]),a||m.lineEnd(),S=!1)}v=t,d=i,E=a}return w}}function Nt(){var n,t,r,i=0,e=0,o=960,u=500;return r={stream:function(r){return n&&t===r?n:n=_t(i,e,o,u)(t=r)},extent:function(a){return arguments.length?(i=+a[0][0],e=+a[0][1],o=+a[1][0],u=+a[1][1],n=t=null,r):[[i,e],[o,u]]}}}var Rt={sphere:R,point:R,lineStart:function(){Rt.point=Pt,Rt.lineEnd=Ct},lineEnd:R,polygonStart:R,polygonEnd:R};function Ct(){Rt.point=Rt.lineEnd=R}function Pt(n,t){Mt=n*=l,wt=S(t*=l),xt=h(t),Rt.point=At}function At(n,t){n*=l;var r=S(t*=l),i=h(t),e=f(n-Mt),o=h(e),u=i*S(e),a=xt*r-wt*i*o,c=wt*r+xt*i*o;mt.add(p(M(u*u+a*a),c)),Mt=n,wt=r,xt=i}function $t(t){return mt=new n,z(t,Rt),+mt}var qt=[null,null],zt={type:"LineString",coordinates:qt};function jt(n,t){return qt[0]=n,qt[1]=t,$t(zt)}var Lt={Feature:function(n,t){return Gt(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)if(Gt(r[i].geometry,t))return!0;return!1}},bt={Sphere:function(){return!0},Point:function(n,t){return Ot(n.coordinates,t)},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(Ot(r[i],t))return!0;return!1},LineString:function(n,t){return Tt(n.coordinates,t)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(Tt(r[i],t))return!0;return!1},Polygon:function(n,t){return kt(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(kt(r[i],t))return!0;return!1},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)if(Gt(r[i],t))return!0;return!1}};function Gt(n,t){return!(!n||!bt.hasOwnProperty(n.type))&&bt[n.type](n,t)}function Ot(n,t){return 0===jt(n,t)}function Tt(n,t){for(var r,i,e,o=0,u=n.length;o<u;o++){if(0===(i=jt(n[o],t)))return!0;if(o>0&&(e=jt(n[o],n[o-1]))>0&&r<=e&&i<=e&&(r+i-e)*(1-Math.pow((r-i)/e,2))<1e-12*e)return!0;r=i}return!1}function kt(n,t){return!!gt(n.map(Ft),Ht(t))}function Ft(n){return(n=n.map(Ht)).pop(),n}function Ht(n){return[n[0]*l,n[1]*l]}function It(n,t){return(n&&Lt.hasOwnProperty(n.type)?Lt[n.type]:Gt)(n,t)}function Wt(n,t,e){var o=r(n,t-i,e).concat(t);return function(n){return o.map((function(t){return[n,t]}))}}function Xt(n,t,e){var o=r(n,t-i,e).concat(t);return function(n){return o.map((function(t){return[t,n]}))}}function Yt(){var n,t,e,o,u,a,c,l,s,p,h,v,d=10,E=d,y=90,S=360,m=2.5;function M(){return{type:"MultiLineString",coordinates:w()}}function w(){return r(g(o/y)*y,e,y).map(h).concat(r(g(l/S)*S,c,S).map(v)).concat(r(g(t/d)*d,n,d).filter((function(n){return f(n%y)>i})).map(s)).concat(r(g(a/E)*E,u,E).filter((function(n){return f(n%S)>i})).map(p))}return M.lines=function(){return w().map((function(n){return{type:"LineString",coordinates:n}}))},M.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(v(c).slice(1),h(e).reverse().slice(1),v(l).reverse().slice(1))]}},M.extent=function(n){return arguments.length?M.extentMajor(n).extentMinor(n):M.extentMinor()},M.extentMajor=function(n){return arguments.length?(o=+n[0][0],e=+n[1][0],l=+n[0][1],c=+n[1][1],o>e&&(n=o,o=e,e=n),l>c&&(n=l,l=c,c=n),M.precision(m)):[[o,l],[e,c]]},M.extentMinor=function(r){return arguments.length?(t=+r[0][0],n=+r[1][0],a=+r[0][1],u=+r[1][1],t>n&&(r=t,t=n,n=r),a>u&&(r=a,a=u,u=r),M.precision(m)):[[t,a],[n,u]]},M.step=function(n){return arguments.length?M.stepMajor(n).stepMinor(n):M.stepMinor()},M.stepMajor=function(n){return arguments.length?(y=+n[0],S=+n[1],M):[y,S]},M.stepMinor=function(n){return arguments.length?(d=+n[0],E=+n[1],M):[d,E]},M.precision=function(r){return arguments.length?(m=+r,s=Wt(a,u,90),p=Xt(t,n,m),h=Wt(l,c,90),v=Xt(o,e,m),M):m},M.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Bt(){return Yt()()}function Dt(n,t){var r=n[0]*l,i=n[1]*l,e=t[0]*l,o=t[1]*l,u=h(i),a=S(i),f=h(o),s=S(o),g=u*h(r),v=u*S(r),d=f*h(e),E=f*S(e),y=2*_(M(N(o-i)+u*f*N(e-r))),m=S(y),w=y?function(n){var t=S(n*=y)/m,r=S(y-n)/m,i=r*g+t*d,e=r*v+t*E,o=r*a+t*s;return[p(e,i)*c,p(o,M(i*i+e*e))*c]}:function(){return[r*c,i*c]};return w.distance=y,w}var Ut,Zt,Jt,Kt,Qt=n=>n,Vt=new n,nr=new n,tr={point:R,lineStart:R,lineEnd:R,polygonStart:function(){tr.lineStart=rr,tr.lineEnd=or},polygonEnd:function(){tr.lineStart=tr.lineEnd=tr.point=R,Vt.add(f(nr)),nr=new n},result:function(){var t=Vt/2;return Vt=new n,t}};function rr(){tr.point=ir}function ir(n,t){tr.point=er,Ut=Jt=n,Zt=Kt=t}function er(n,t){nr.add(Kt*n-Jt*t),Jt=n,Kt=t}function or(){er(Ut,Zt)}var ur=1/0,ar=ur,cr=-ur,lr=cr,fr={point:function(n,t){n<ur&&(ur=n);n>cr&&(cr=n);t<ar&&(ar=t);t>lr&&(lr=t)},lineStart:R,lineEnd:R,polygonStart:R,polygonEnd:R,result:function(){var n=[[ur,ar],[cr,lr]];return cr=lr=-(ar=ur=1/0),n}};var sr,pr,hr,gr,vr=0,dr=0,Er=0,yr=0,Sr=0,mr=0,Mr=0,wr=0,xr=0,_r={point:Nr,lineStart:Rr,lineEnd:Ar,polygonStart:function(){_r.lineStart=$r,_r.lineEnd=qr},polygonEnd:function(){_r.point=Nr,_r.lineStart=Rr,_r.lineEnd=Ar},result:function(){var n=xr?[Mr/xr,wr/xr]:mr?[yr/mr,Sr/mr]:Er?[vr/Er,dr/Er]:[NaN,NaN];return vr=dr=Er=yr=Sr=mr=Mr=wr=xr=0,n}};function Nr(n,t){vr+=n,dr+=t,++Er}function Rr(){_r.point=Cr}function Cr(n,t){_r.point=Pr,Nr(hr=n,gr=t)}function Pr(n,t){var r=n-hr,i=t-gr,e=M(r*r+i*i);yr+=e*(hr+n)/2,Sr+=e*(gr+t)/2,mr+=e,Nr(hr=n,gr=t)}function Ar(){_r.point=Nr}function $r(){_r.point=zr}function qr(){jr(sr,pr)}function zr(n,t){_r.point=jr,Nr(sr=hr=n,pr=gr=t)}function jr(n,t){var r=n-hr,i=t-gr,e=M(r*r+i*i);yr+=e*(hr+n)/2,Sr+=e*(gr+t)/2,mr+=e,Mr+=(e=gr*n-hr*t)*(hr+n),wr+=e*(gr+t),xr+=3*e,Nr(hr=n,gr=t)}function Lr(n){this._context=n}Lr.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,a)}},result:R};var br,Gr,Or,Tr,kr,Fr=new n,Hr={point:R,lineStart:function(){Hr.point=Ir},lineEnd:function(){br&&Wr(Gr,Or),Hr.point=R},polygonStart:function(){br=!0},polygonEnd:function(){br=null},result:function(){var t=+Fr;return Fr=new n,t}};function Ir(n,t){Hr.point=Wr,Gr=Tr=n,Or=kr=t}function Wr(n,t){Tr-=n,kr-=t,Fr.add(M(Tr*Tr+kr*kr)),Tr=n,kr=t}let Xr,Yr,Br,Dr;class Ur{constructor(n){this._append=null==n?Zr:function(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Zr;if(t!==Xr){const n=10**t;Xr=t,Yr=function(t){let r=1;this._+=t[0];for(const i=t.length;r<i;++r)this._+=Math.round(arguments[r]*n)/n+t[r]}}return Yr}(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(n,t){switch(this._point){case 0:this._append`M${n},${t}`,this._point=1;break;case 1:this._append`L${n},${t}`;break;default:if(this._append`M${n},${t}`,this._radius!==Br||this._append!==Yr){const n=this._radius,t=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,Br=n,Yr=this._append,Dr=this._,this._=t}this._+=Dr}}result(){const n=this._;return this._="",n.length?n:null}}function Zr(n){let t=1;this._+=n[0];for(const r=n.length;t<r;++t)this._+=arguments[t]+n[t]}function Jr(n,t){let r,i,e=3,o=4.5;function u(n){return n&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),z(n,r(i))),i.result()}return u.area=function(n){return z(n,r(tr)),tr.result()},u.measure=function(n){return z(n,r(Hr)),Hr.result()},u.bounds=function(n){return z(n,r(fr)),fr.result()},u.centroid=function(n){return z(n,r(_r)),_r.result()},u.projection=function(t){return arguments.length?(r=null==t?(n=null,Qt):(n=t).stream,u):n},u.context=function(n){return arguments.length?(i=null==n?(t=null,new Ur(e)):new Lr(t=n),"function"!=typeof o&&i.pointRadius(o),u):t},u.pointRadius=function(n){return arguments.length?(o="function"==typeof n?n:(i.pointRadius(+n),+n),u):o},u.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return null===t&&(i=new Ur(e)),u},u.projection(n).digits(e).context(t)}function Kr(n){return{stream:Qr(n)}}function Qr(n){return function(t){var r=new Vr;for(var i in n)r[i]=n[i];return r.stream=t,r}}function Vr(){}function ni(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=i&&n.clipExtent(null),z(r,n.stream(fr)),t(fr.result()),null!=i&&n.clipExtent(i),n}function ti(n,t,r){return ni(n,(function(r){var i=t[1][0]-t[0][0],e=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),e/(r[1][1]-r[0][1])),u=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,a=+t[0][1]+(e-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([u,a])}),r)}function ri(n,t,r){return ti(n,[[0,0],t],r)}function ii(n,t,r){return ni(n,(function(r){var i=+t,e=i/(r[1][0]-r[0][0]),o=(i-e*(r[1][0]+r[0][0]))/2,u=-e*r[0][1];n.scale(150*e).translate([o,u])}),r)}function ei(n,t,r){return ni(n,(function(r){var i=+t,e=i/(r[1][1]-r[0][1]),o=-e*r[0][0],u=(i-e*(r[1][1]+r[0][1]))/2;n.scale(150*e).translate([o,u])}),r)}Vr.prototype={constructor:Vr,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var oi=h(30*l);function ui(n,t){return+t?function(n,t){function r(e,o,u,a,c,l,s,h,g,v,d,E,y,S){var m=s-e,w=h-o,x=m*m+w*w;if(x>4*t&&y--){var N=a+v,R=c+d,C=l+E,P=M(N*N+R*R+C*C),A=_(C/=P),$=f(f(C)-1)<i||f(u-g)<i?(u+g)/2:p(R,N),q=n($,A),z=q[0],j=q[1],L=z-e,b=j-o,G=w*L-m*b;(G*G/x>t||f((m*L+w*b)/x-.5)>.3||a*v+c*d+l*E<oi)&&(r(e,o,u,a,c,l,z,j,$,N/=P,R/=P,C,y,S),S.point(z,j),r(z,j,$,N,R,C,s,h,g,v,d,E,y,S))}}return function(t){var i,e,o,u,a,c,l,f,s,p,h,g,v={point:d,lineStart:E,lineEnd:S,polygonStart:function(){t.polygonStart(),v.lineStart=m},polygonEnd:function(){t.polygonEnd(),v.lineStart=E}};function d(r,i){r=n(r,i),t.point(r[0],r[1])}function E(){f=NaN,v.point=y,t.lineStart()}function y(i,e){var o=on([i,e]),u=n(i,e);r(f,s,l,p,h,g,f=u[0],s=u[1],l=i,p=o[0],h=o[1],g=o[2],16,t),t.point(f,s)}function S(){v.point=d,t.lineEnd()}function m(){E(),v.point=M,v.lineEnd=w}function M(n,t){y(i=n,t),e=f,o=s,u=p,a=h,c=g,v.point=y}function w(){r(f,s,l,p,h,g,e,o,i,u,a,c,16,t),v.lineEnd=S,S()}return v}}(n,t):function(n){return Qr({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}(n)}var ai=Qr({point:function(n,t){this.stream.point(n*l,t*l)}});function ci(n,t,r,i,e,o){if(!o)return function(n,t,r,i,e){function o(o,u){return[t+n*(o*=i),r-n*(u*=e)]}return o.invert=function(o,u){return[(o-t)/n*i,(r-u)/n*e]},o}(n,t,r,i,e);var u=h(o),a=S(o),c=u*n,l=a*n,f=u/n,s=a/n,p=(a*r-u*t)/n,g=(a*t+u*r)/n;function v(n,o){return[c*(n*=i)-l*(o*=e)+t,r-l*n-c*o]}return v.invert=function(n,t){return[i*(f*n-s*t+p),e*(g-s*n-f*t)]},v}function li(n){return fi((function(){return n}))()}function fi(n){var t,r,i,e,o,u,a,f,s,p,h=150,g=480,v=250,d=0,E=0,y=0,S=0,m=0,w=0,x=1,_=1,N=null,R=yt,C=null,P=Qt,A=.5;function $(n){return f(n[0]*l,n[1]*l)}function q(n){return(n=f.invert(n[0],n[1]))&&[n[0]*c,n[1]*c]}function z(){var n=ci(h,0,0,x,_,w).apply(null,t(d,E)),i=ci(h,g-n[0],v-n[1],x,_,w);return r=nt(y,S,m),a=Qn(t,i),f=Qn(r,a),u=ui(a,A),j()}function j(){return s=p=null,$}return $.stream=function(n){return s&&p===n?s:s=ai(function(n){return Qr({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}(r)(R(u(P(p=n)))))},$.preclip=function(n){return arguments.length?(R=n,N=void 0,j()):R},$.postclip=function(n){return arguments.length?(P=n,C=i=e=o=null,j()):P},$.clipAngle=function(n){return arguments.length?(R=+n?St(N=n*l):(N=null,yt),j()):N*c},$.clipExtent=function(n){return arguments.length?(P=null==n?(C=i=e=o=null,Qt):_t(C=+n[0][0],i=+n[0][1],e=+n[1][0],o=+n[1][1]),j()):null==C?null:[[C,i],[e,o]]},$.scale=function(n){return arguments.length?(h=+n,z()):h},$.translate=function(n){return arguments.length?(g=+n[0],v=+n[1],z()):[g,v]},$.center=function(n){return arguments.length?(d=n[0]%360*l,E=n[1]%360*l,z()):[d*c,E*c]},$.rotate=function(n){return arguments.length?(y=n[0]%360*l,S=n[1]%360*l,m=n.length>2?n[2]%360*l:0,z()):[y*c,S*c,m*c]},$.angle=function(n){return arguments.length?(w=n%360*l,z()):w*c},$.reflectX=function(n){return arguments.length?(x=n?-1:1,z()):x<0},$.reflectY=function(n){return arguments.length?(_=n?-1:1,z()):_<0},$.precision=function(n){return arguments.length?(u=ui(a,A=n*n),j()):M(A)},$.fitExtent=function(n,t){return ti($,n,t)},$.fitSize=function(n,t){return ri($,n,t)},$.fitWidth=function(n,t){return ii($,n,t)},$.fitHeight=function(n,t){return ei($,n,t)},function(){return t=n.apply(this,arguments),$.invert=t.invert&&q,z()}}function si(n){var t=0,r=e/3,i=fi(n),o=i(t,r);return o.parallels=function(n){return arguments.length?i(t=n[0]*l,r=n[1]*l):[t*c,r*c]},o}function pi(n,t){var r=S(n),o=(r+S(t))/2;if(f(o)<i)return function(n){var t=h(n);function r(n,r){return[n*t,S(r)/t]}return r.invert=function(n,r){return[n/t,_(r*t)]},r}(n);var u=1+r*(2*o-r),a=M(u)/o;function c(n,t){var r=M(u-2*o*S(t))/o;return[r*S(n*=o),a-r*h(n)]}return c.invert=function(n,t){var r=a-t,i=p(n,f(r))*m(r);return r*o<0&&(i-=e*m(n)*m(r)),[i/o,_((u-(n*n+r*r)*o*o)/(2*o))]},c}function hi(){return si(pi).scale(155.424).center([0,33.6442])}function gi(){return hi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function vi(){var n,t,r,e,o,u,a=gi(),c=hi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=hi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(n,t){u=[n,t]}};function s(n){var t=n[0],i=n[1];return u=null,r.point(t,i),u||(e.point(t,i),u)||(o.point(t,i),u)}function p(){return n=t=null,s}return s.invert=function(n){var t=a.scale(),r=a.translate(),i=(n[0]-r[0])/t,e=(n[1]-r[1])/t;return(e>=.12&&e<.234&&i>=-.425&&i<-.214?c:e>=.166&&e<.234&&i>=-.214&&i<-.115?l:a).invert(n)},s.stream=function(r){return n&&t===r?n:(i=[a.stream(t=r),c.stream(r),l.stream(r)],e=i.length,n={point:function(n,t){for(var r=-1;++r<e;)i[r].point(n,t)},sphere:function(){for(var n=-1;++n<e;)i[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)i[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)i[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)i[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)i[n].polygonEnd()}});var i,e},s.precision=function(n){return arguments.length?(a.precision(n),c.precision(n),l.precision(n),p()):a.precision()},s.scale=function(n){return arguments.length?(a.scale(n),c.scale(.35*n),l.scale(n),s.translate(a.translate())):a.scale()},s.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),u=+n[0],s=+n[1];return r=a.translate(n).clipExtent([[u-.455*t,s-.238*t],[u+.455*t,s+.238*t]]).stream(f),e=c.translate([u-.307*t,s+.201*t]).clipExtent([[u-.425*t+i,s+.12*t+i],[u-.214*t-i,s+.234*t-i]]).stream(f),o=l.translate([u-.205*t,s+.212*t]).clipExtent([[u-.214*t+i,s+.166*t+i],[u-.115*t-i,s+.234*t-i]]).stream(f),p()},s.fitExtent=function(n,t){return ti(s,n,t)},s.fitSize=function(n,t){return ri(s,n,t)},s.fitWidth=function(n,t){return ii(s,n,t)},s.fitHeight=function(n,t){return ei(s,n,t)},s.scale(1070)}function di(n){return function(t,r){var i=h(t),e=h(r),o=n(i*e);return o===1/0?[2,0]:[o*e*S(t),o*S(r)]}}function Ei(n){return function(t,r){var i=M(t*t+r*r),e=n(i),o=S(e),u=h(e);return[p(t*o,i*u),_(i&&r*o/i)]}}var yi=di((function(n){return M(2/(1+n))}));function Si(){return li(yi).scale(124.75).clipAngle(179.999)}yi.invert=Ei((function(n){return 2*_(n/2)}));var mi=di((function(n){return(n=x(n))&&n/S(n)}));function Mi(){return li(mi).scale(79.4188).clipAngle(179.999)}function wi(n,t){return[n,E(w((o+t)/2))]}function xi(){return _i(wi).scale(961/a)}function _i(n){var t,r,i,o=li(n),u=o.center,a=o.scale,c=o.translate,l=o.clipExtent,f=null;function s(){var u=e*a(),c=o(et(o.rotate()).invert([0,0]));return l(null==f?[[c[0]-u,c[1]-u],[c[0]+u,c[1]+u]]:n===wi?[[Math.max(c[0]-u,f),t],[Math.min(c[0]+u,r),i]]:[[f,Math.max(c[1]-u,t)],[r,Math.min(c[1]+u,i)]])}return o.scale=function(n){return arguments.length?(a(n),s()):a()},o.translate=function(n){return arguments.length?(c(n),s()):c()},o.center=function(n){return arguments.length?(u(n),s()):u()},o.clipExtent=function(n){return arguments.length?(null==n?f=t=r=i=null:(f=+n[0][0],t=+n[0][1],r=+n[1][0],i=+n[1][1]),s()):null==f?null:[[f,t],[r,i]]},s()}function Ni(n){return w((o+n)/2)}function Ri(n,t){var r=h(n),u=n===t?S(n):E(r/h(t))/E(Ni(t)/Ni(n)),a=r*y(Ni(n),u)/u;if(!u)return wi;function c(n,t){a>0?t<-o+i&&(t=-o+i):t>o-i&&(t=o-i);var r=a/y(Ni(t),u);return[r*S(u*n),a-r*h(u*n)]}return c.invert=function(n,t){var r=a-t,i=m(u)*M(n*n+r*r),c=p(n,f(r))*m(r);return r*u<0&&(c-=e*m(n)*m(r)),[c/u,2*s(y(a/i,1/u))-o]},c}function Ci(){return si(Ri).scale(109.5).parallels([30,30])}function Pi(n,t){return[n,t]}function Ai(){return li(Pi).scale(152.63)}function $i(n,t){var r=h(n),o=n===t?S(n):(r-h(t))/(t-n),u=r/o+n;if(f(o)<i)return Pi;function a(n,t){var r=u-t,i=o*n;return[r*S(i),u-r*h(i)]}return a.invert=function(n,t){var r=u-t,i=p(n,f(r))*m(r);return r*o<0&&(i-=e*m(n)*m(r)),[i/o,u-m(o)*M(n*n+r*r)]},a}function qi(){return si($i).scale(131.154).center([0,13.9389])}mi.invert=Ei((function(n){return n})),wi.invert=function(n,t){return[n,2*s(v(t))-o]},Pi.invert=Pi;var zi=1.340264,ji=-.081106,Li=893e-6,bi=.003796,Gi=M(3)/2;function Oi(n,t){var r=_(Gi*S(t)),i=r*r,e=i*i*i;return[n*h(r)/(Gi*(zi+3*ji*i+e*(7*Li+9*bi*i))),r*(zi+ji*i+e*(Li+bi*i))]}function Ti(){return li(Oi).scale(177.158)}function ki(n,t){var r=h(t),i=h(n)*r;return[r*S(n)/i,S(t)/i]}function Fi(){return li(ki).scale(144.049).clipAngle(60)}function Hi(){var n,t,r,i,e,o,u,a=1,f=0,s=0,p=1,g=1,v=0,d=null,E=1,y=1,m=Qr({point:function(n,t){var r=x([n,t]);this.stream.point(r[0],r[1])}}),M=Qt;function w(){return E=a*p,y=a*g,o=u=null,x}function x(r){var i=r[0]*E,e=r[1]*y;if(v){var o=e*n-i*t;i=i*n+e*t,e=o}return[i+f,e+s]}return x.invert=function(r){var i=r[0]-f,e=r[1]-s;if(v){var o=e*n+i*t;i=i*n-e*t,e=o}return[i/E,e/y]},x.stream=function(n){return o&&u===n?o:o=m(M(u=n))},x.postclip=function(n){return arguments.length?(M=n,d=r=i=e=null,w()):M},x.clipExtent=function(n){return arguments.length?(M=null==n?(d=r=i=e=null,Qt):_t(d=+n[0][0],r=+n[0][1],i=+n[1][0],e=+n[1][1]),w()):null==d?null:[[d,r],[i,e]]},x.scale=function(n){return arguments.length?(a=+n,w()):a},x.translate=function(n){return arguments.length?(f=+n[0],s=+n[1],w()):[f,s]},x.angle=function(r){return arguments.length?(t=S(v=r%360*l),n=h(v),w()):v*c},x.reflectX=function(n){return arguments.length?(p=n?-1:1,w()):p<0},x.reflectY=function(n){return arguments.length?(g=n?-1:1,w()):g<0},x.fitExtent=function(n,t){return ti(x,n,t)},x.fitSize=function(n,t){return ri(x,n,t)},x.fitWidth=function(n,t){return ii(x,n,t)},x.fitHeight=function(n,t){return ei(x,n,t)},x}function Ii(n,t){var r=t*t,i=r*r;return[n*(.8707-.131979*r+i*(i*(.003971*r-.001529*i)-.013791)),t*(1.007226+r*(.015085+i*(.028874*r-.044475-.005916*i)))]}function Wi(){return li(Ii).scale(175.295)}function Xi(n,t){return[h(t)*S(n),S(t)]}function Yi(){return li(Xi).scale(249.5).clipAngle(90.000001)}function Bi(n,t){var r=h(t),i=1+h(n)*r;return[r*S(n)/i,S(t)/i]}function Di(){return li(Bi).scale(250).clipAngle(142)}function Ui(n,t){return[E(w((o+t)/2)),-n]}function Zi(){var n=_i(Ui),t=n.center,r=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):[(n=r())[0],n[1],n[2]-90]},r([0,0,90]).scale(159.155)}Oi.invert=function(n,t){for(var r,i=t,e=i*i,o=e*e*e,u=0;u<12&&(o=(e=(i-=r=(i*(zi+ji*e+o*(Li+bi*e))-t)/(zi+3*ji*e+o*(7*Li+9*bi*e)))*i)*e*e,!(f(r)<1e-12));++u);return[Gi*n*(zi+3*ji*e+o*(7*Li+9*bi*e))/h(i),_(S(i)/Gi)]},ki.invert=Ei(s),Ii.invert=function(n,t){var r,e=t,o=25;do{var u=e*e,a=u*u;e-=r=(e*(1.007226+u*(.015085+a*(.028874*u-.044475-.005916*a)))-t)/(1.007226+u*(.045255+a*(.259866*u-.311325-.005916*11*a)))}while(f(r)>i&&--o>0);return[n/(.8707+(u=e*e)*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979)),e]},Xi.invert=Ei(_),Bi.invert=Ei((function(n){return 2*s(n)})),Ui.invert=function(n,t){return[-t,2*s(v(n))-o]};export{gi as geoAlbers,vi as geoAlbersUsa,rn as geoArea,Si as geoAzimuthalEqualArea,yi as geoAzimuthalEqualAreaRaw,Mi as geoAzimuthalEquidistant,mi as geoAzimuthalEquidistantRaw,Tn as geoBounds,Jn as geoCentroid,at as geoCircle,yt as geoClipAntimeridian,St as geoClipCircle,Nt as geoClipExtent,_t as geoClipRectangle,Ci as geoConicConformal,Ri as geoConicConformalRaw,hi as geoConicEqualArea,pi as geoConicEqualAreaRaw,qi as geoConicEquidistant,$i as geoConicEquidistantRaw,It as geoContains,jt as geoDistance,Ti as geoEqualEarth,Oi as geoEqualEarthRaw,Ai as geoEquirectangular,Pi as geoEquirectangularRaw,Fi as geoGnomonic,ki as geoGnomonicRaw,Yt as geoGraticule,Bt as geoGraticule10,Hi as geoIdentity,Dt as geoInterpolate,$t as geoLength,xi as geoMercator,wi as geoMercatorRaw,Wi as geoNaturalEarth1,Ii as geoNaturalEarth1Raw,Yi as geoOrthographic,Xi as geoOrthographicRaw,Jr as geoPath,li as geoProjection,fi as geoProjectionMutator,et as geoRotation,Di as geoStereographic,Bi as geoStereographicRaw,z as geoStream,Kr as geoTransform,Zi as geoTransverseMercator,Ui as geoTransverseMercatorRaw};export default null;
//# sourceMappingURL=/sm/e74250eb8e2e7f60fb4b9b69a37bc2307e3c9fcc3fe62b382e8808cd69f17536.map